<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div class='wrapper'>

</div>

<script>
    window.onload = function () {
        class Component {
            setState(state) {
                if (this.state !== state) {
                    this.state = state;
                    // re-render the view
                    let prevElement = this.element;
                    this.element = this._renderDOM();
                    if (this.onStateChange) {
                        this.onStateChange(prevElement, this.element);
                    }
                }
            }

            createDOMFromString(domString) {
                const div = document.createElement('div');
                div.innerHTML = domString;
                return div;
            };

            // Private method starts from '_'
            _renderDOM() {
                this.element = this.createDOMFromString(this.render());
                if (this.onClick) {
                    this.element.addEventListener('click', this.onClick.bind(this));
                }
                return this.element;
            }
        }

        class LikeButton extends Component {
            constructor() {
                super();
                this.state = {isLike: false};
            }

            onClick() {
                this.setState({isLike: !this.state.isLike});
            }

            render() {
                if (this.state.isLike) {
                    return `<button class='like-btn'>
                                <span class='like-text'>Cancel</span>
                                <span>üëç</span>
                            </button>`;
                } else {
                    return `<button class='like-btn'>
                                <span class='like-text'>Like</span>
                                <span>üëç</span>
                            </button>`;
                }
            }
        }

        const mount = (component, wrapper) => {
            wrapper.appendChild(component._renderDOM());
            component.onStateChange = (prevElement, currentElement) => {
                wrapper.removeChild(prevElement);
                wrapper.appendChild(currentElement);
            }
        };

        let wrapper = document.querySelector('.wrapper');
        mount(new LikeButton(), wrapper);
    };

</script>
</body>
</html>
